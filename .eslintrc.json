{
	"$schema": "https://json.schemastore.org/eslintrc",
	"root": true,
	"env": {
		"browser": true,
		"es2021": true,
		"node": false,
		"jquery": true
	},
	"extends": [
		"plugin:@wordpress/eslint-plugin/recommended",
		"plugin:prettier/recommended"
	],
	"parserOptions": {
		"ecmaVersion": 2021,
		"sourceType": "module",
		"ecmaFeatures": {
			"jsx": true
		}
	},
	"plugins": ["@wordpress", "prettier"],
	"globals": {
		"wp": "readonly",
		"jQuery": "readonly",
		"_": "readonly",
		"notionWP": "readonly",
		"notionSyncAdmin": "readonly"
	},
	"rules": {
		// Prettier integration
		"prettier/prettier": "error",

		// Code quality rules
		"no-console": [
			"error",
			{
				"allow": ["warn", "error"]
			}
		],
		"no-debugger": "error",
		"no-alert": "error",
		"no-unused-vars": [
			"error",
			{
				"vars": "all",
				"args": "after-used",
				"ignoreRestSiblings": true,
				"argsIgnorePattern": "^_"
			}
		],
		"no-undef": "error",
		"no-var": "error",
		"prefer-const": "error",
		"prefer-arrow-callback": "error",

		// WordPress specific
		"@wordpress/no-unused-vars-before-return": "error",
		"@wordpress/no-global-active-element": "error",
		"@wordpress/no-global-get-selection": "error",
		"@wordpress/dependency-group": "error",
		"@wordpress/i18n-text-domain": [
			"error",
			{
				"allowedTextDomain": "notion-wp"
			}
		],
		"@wordpress/valid-sprintf": "error",

		// JSDoc requirements
		"jsdoc/check-alignment": "warn",
		"jsdoc/check-param-names": "warn",
		"jsdoc/check-tag-names": "warn",
		"jsdoc/check-types": "warn",
		"jsdoc/require-param": "warn",
		"jsdoc/require-param-description": "warn",
		"jsdoc/require-param-name": "warn",
		"jsdoc/require-param-type": "warn",
		"jsdoc/require-returns": "warn",
		"jsdoc/require-returns-description": "warn",
		"jsdoc/require-returns-type": "warn",

		// Best practices
		"eqeqeq": ["error", "always"],
		"curly": ["error", "all"],
		"dot-notation": "error",
		"no-eval": "error",
		"no-implied-eval": "error",
		"no-multi-spaces": "error",
		"no-new-func": "error",
		"no-new-wrappers": "error",
		"no-script-url": "error",
		"no-self-compare": "error",
		"no-sequences": "error",
		"no-throw-literal": "error",
		"no-with": "error",
		"radix": "error",
		"wrap-iife": ["error", "any"],
		"yoda": ["error", "never"],

		// ES6+
		"arrow-spacing": "error",
		"no-duplicate-imports": "error",
		"no-useless-constructor": "error",
		"object-shorthand": ["error", "always"],
		"prefer-destructuring": [
			"error",
			{
				"array": false,
				"object": true
			}
		],
		"prefer-rest-params": "error",
		"prefer-spread": "error",
		"prefer-template": "error",
		"template-curly-spacing": ["error", "never"]
	},
	"overrides": [
		{
			// React/JSX files
			"files": ["*.jsx", "*.tsx"],
			"extends": [
				"plugin:react/recommended",
				"plugin:react-hooks/recommended"
			],
			"settings": {
				"react": {
					"version": "detect"
				}
			},
			"rules": {
				"react/prop-types": "warn",
				"react/react-in-jsx-scope": "off",
				"react-hooks/rules-of-hooks": "error",
				"react-hooks/exhaustive-deps": "warn"
			}
		},
		{
			// Test files
			"files": ["**/*.test.js", "**/*.spec.js"],
			"env": {
				"jest": true
			},
			"rules": {
				"no-console": "off"
			}
		},
		{
			// Configuration files
			"files": [".eslintrc.js", "webpack.config.js", "*.config.js"],
			"env": {
				"node": true
			}
		},
		{
			// Admin files - allow confirm/alert for WordPress admin UI
			"files": ["**/admin*.js"],
			"rules": {
				"no-alert": "off"
			}
		}
	],
	"ignorePatterns": [
		"node_modules/",
		"vendor/",
		"build/",
		"dist/",
		"*.min.js",
		"*.asset.php"
	]
}
