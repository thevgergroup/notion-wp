(()=>{var q,g,le,Fe,D,_e,ce,ue,fe,K,X,G,Ue,M={},de=[],ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,L=Array.isArray;function H(t,e){for(var n in e)t[n]=e[n];return t}function Z(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ie(t,e,n){var o,i,_,a={};for(_ in e)_=="key"?o=e[_]:_=="ref"?i=e[_]:a[_]=e[_];if(arguments.length>2&&(a.children=arguments.length>3?q.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)a[_]===void 0&&(a[_]=t.defaultProps[_]);return R(t,a,o,i,null)}function R(t,e,n,o,i){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++le,__i:-1,__u:0};return i==null&&g.vnode!=null&&g.vnode(_),_}function U(t){return t.children}function $(t,e){this.props=t,this.context=e}function F(t,e){if(e==null)return t.__?F(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?F(t):null}function pe(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return pe(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&D.push(t)&&!j.__r++||_e!=g.debounceRendering)&&((_e=g.debounceRendering)||ce)(j)}function j(){for(var t,e,n,o,i,_,a,l=1;D.length;)D.length>l&&D.sort(ue),t=D.shift(),l=D.length,t.__d&&(n=void 0,o=void 0,i=(o=(e=t).__v).__e,_=[],a=[],e.__P&&((n=H({},o)).__v=o.__v+1,g.vnode&&g.vnode(n),Y(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[i]:null,_,i??F(o),!!(32&o.__u),a),n.__v=o.__v,n.__.__k[n.__i]=n,me(_,n,a),o.__e=o.__=null,n.__e!=i&&pe(n)));j.__r=0}function he(t,e,n,o,i,_,a,l,f,s,u){var r,p,d,v,C,y,m,h=o&&o.__k||de,T=e.length;for(f=Me(n,e,h,f,T),r=0;r<T;r++)(d=n.__k[r])!=null&&(p=d.__i==-1?M:h[d.__i]||M,d.__i=r,y=Y(t,d,p,i,_,a,l,f,s,u),v=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&ee(p.ref,null,d),u.push(d.ref,d.__c||v,d)),C==null&&v!=null&&(C=v),(m=!!(4&d.__u))||p.__k===d.__k?f=ge(d,f,t,m):typeof d.type=="function"&&y!==void 0?f=y:v&&(f=v.nextSibling),d.__u&=-7);return n.__e=C,f}function Me(t,e,n,o,i){var _,a,l,f,s,u=n.length,r=u,p=0;for(t.__k=new Array(i),_=0;_<i;_++)(a=e[_])!=null&&typeof a!="boolean"&&typeof a!="function"?(f=_+p,(a=t.__k[_]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?R(null,a,null,null,null):L(a)?R(U,{children:a},null,null,null):a.constructor==null&&a.__b>0?R(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,l=null,(s=a.__i=Be(a,n,f,r))!=-1&&(r--,(l=n[s])&&(l.__u|=2)),l==null||l.__v==null?(s==-1&&(i>u?p--:i<u&&p++),typeof a.type!="function"&&(a.__u|=4)):s!=f&&(s==f-1?p--:s==f+1?p++:(s>f?p--:p++,a.__u|=4))):t.__k[_]=null;if(r)for(_=0;_<u;_++)(l=n[_])!=null&&(2&l.__u)==0&&(l.__e==o&&(o=F(l)),ye(l,l));return o}function ge(t,e,n,o){var i,_;if(typeof t.type=="function"){for(i=t.__k,_=0;i&&_<i.length;_++)i[_]&&(i[_].__=t,e=ge(i[_],e,n,o));return e}t.__e!=e&&(o&&(e&&t.type&&!e.parentNode&&(e=F(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Be(t,e,n,o){var i,_,a,l=t.key,f=t.type,s=e[n],u=s!=null&&(2&s.__u)==0;if(s===null&&t.key==null||u&&l==s.key&&f==s.type)return n;if(o>(u?1:0)){for(i=n-1,_=n+1;i>=0||_<e.length;)if((s=e[a=i>=0?i--:_++])!=null&&(2&s.__u)==0&&l==s.key&&f==s.type)return a}return-1}function se(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ze.test(e)?n:n+"px"}function B(t,e,n,o,i){var _,a;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||se(t.style,e,"");if(n)for(e in n)o&&n[e]==o[e]||se(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")_=e!=(e=e.replace(fe,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=K,t.addEventListener(e,_?G:X,_)):t.removeEventListener(e,_?G:X,_);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=K++;else if(e.t<n.u)return;return n(g.event?g.event(e):e)}}}function Y(t,e,n,o,i,_,a,l,f,s){var u,r,p,d,v,C,y,m,h,T,E,x,P,S,w,W,I,A=e.type;if(e.constructor!=null)return null;128&n.__u&&(f=!!(32&n.__u),_=[l=e.__e=n.__e]),(u=g.__b)&&u(e);e:if(typeof A=="function")try{if(m=e.props,h="prototype"in A&&A.prototype.render,T=(u=A.contextType)&&o[u.__c],E=u?T?T.props.value:u.__:o,n.__c?y=(r=e.__c=n.__c).__=r.__E:(h?e.__c=r=new A(m,E):(e.__c=r=new $(m,E),r.constructor=A,r.render=$e),T&&T.sub(r),r.props=m,r.state||(r.state={}),r.context=E,r.__n=o,p=r.__d=!0,r.__h=[],r._sb=[]),h&&r.__s==null&&(r.__s=r.state),h&&A.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=H({},r.__s)),H(r.__s,A.getDerivedStateFromProps(m,r.__s))),d=r.props,v=r.state,r.__v=e,p)h&&A.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),h&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(h&&A.getDerivedStateFromProps==null&&m!==d&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(m,E),!r.__e&&r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(m,r.__s,E)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(r.props=m,r.state=r.__s,r.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(N){N&&(N.__=e)}),x=0;x<r._sb.length;x++)r.__h.push(r._sb[x]);r._sb=[],r.__h.length&&a.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(m,r.__s,E),h&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(d,v,C)})}if(r.context=E,r.props=m,r.__P=t,r.__e=!1,P=g.__r,S=0,h){for(r.state=r.__s,r.__d=!1,P&&P(e),u=r.render(r.props,r.state,r.context),w=0;w<r._sb.length;w++)r.__h.push(r._sb[w]);r._sb=[]}else do r.__d=!1,P&&P(e),u=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++S<25);r.state=r.__s,r.getChildContext!=null&&(o=H(H({},o),r.getChildContext())),h&&!p&&r.getSnapshotBeforeUpdate!=null&&(C=r.getSnapshotBeforeUpdate(d,v)),W=u,u!=null&&u.type===U&&u.key==null&&(W=ve(u.props.children)),l=he(t,L(W)?W:[W],e,n,o,i,_,a,l,f,s),r.base=e.__e,e.__u&=-161,r.__h.length&&a.push(r),y&&(r.__E=r.__=null)}catch(N){if(e.__v=null,f||_!=null)if(N.then){for(e.__u|=f?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;_[_.indexOf(l)]=null,e.__e=l}else{for(I=_.length;I--;)Z(_[I]);J(e)}else e.__e=n.__e,e.__k=n.__k,N.then||J(e);g.__e(N,e,n)}else _==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):l=e.__e=Re(n.__e,e,n,o,i,_,a,f,s);return(u=g.diffed)&&u(e),128&e.__u?void 0:l}function J(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(J)}function me(t,e,n){for(var o=0;o<n.length;o++)ee(n[o],n[++o],n[++o]);g.__c&&g.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(_){_.call(i)})}catch(_){g.__e(_,i.__v)}})}function ve(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:L(t)?t.map(ve):H({},t)}function Re(t,e,n,o,i,_,a,l,f){var s,u,r,p,d,v,C,y=n.props,m=e.props,h=e.type;if(h=="svg"?i="http://www.w3.org/2000/svg":h=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!h&&(h?d.localName==h:d.nodeType==3)){t=d,_[s]=null;break}}if(t==null){if(h==null)return document.createTextNode(m);t=document.createElementNS(i,h,m.is&&m),l&&(g.__m&&g.__m(e,_),l=!1),_=null}if(h==null)y===m||l&&t.data==m||(t.data=m);else{if(_=_&&q.call(t.childNodes),y=n.props||M,!l&&_!=null)for(y={},s=0;s<t.attributes.length;s++)y[(d=t.attributes[s]).name]=d.value;for(s in y)if(d=y[s],s!="children"){if(s=="dangerouslySetInnerHTML")r=d;else if(!(s in m)){if(s=="value"&&"defaultValue"in m||s=="checked"&&"defaultChecked"in m)continue;B(t,s,null,d,i)}}for(s in m)d=m[s],s=="children"?p=d:s=="dangerouslySetInnerHTML"?u=d:s=="value"?v=d:s=="checked"?C=d:l&&typeof d!="function"||y[s]===d||B(t,s,d,y[s],i);if(u)l||r&&(u.__html==r.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(r&&(t.innerHTML=""),he(e.type=="template"?t.content:t,L(p)?p:[p],e,n,o,h=="foreignObject"?"http://www.w3.org/1999/xhtml":i,_,a,_?_[0]:n.__k&&F(n,0),l,f),_!=null)for(s=_.length;s--;)Z(_[s]);l||(s="value",h=="progress"&&v==null?t.removeAttribute("value"):v!=null&&(v!==t[s]||h=="progress"&&!v||h=="option"&&v!=y[s])&&B(t,s,v,y[s],i),s="checked",C!=null&&C!=t[s]&&B(t,s,C,y[s],i))}return t}function ee(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(i){g.__e(i,n)}}function ye(t,e,n){var o,i;if(g.unmount&&g.unmount(t),(o=t.ref)&&(o.current&&o.current!=t.__e||ee(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){g.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&ye(o[i],e,n||typeof t.type!="function");n||Z(t.__e),t.__c=t.__=t.__e=void 0}function $e(t,e,n){return this.constructor(t,n)}function be(t,e,n){var o,i,_,a;e==document&&(e=document.documentElement),g.__&&g.__(t,e),i=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],a=[],Y(e,t=(!o&&n||e).__k=Ie(U,null,[t]),i||M,M,e.namespaceURI,!o&&n?[n]:i?null:e.firstChild?q.call(e.childNodes):null,_,!o&&n?n:i?i.__e:e.firstChild,o,a),me(_,t,a)}q=de.slice,g={__e:function(t,e,n,o){for(var i,_,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((_=i.constructor)&&_.getDerivedStateFromError!=null&&(i.setState(_.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,o||{}),a=i.__d),a)return i.__E=i}catch(l){t=l}throw t}},le=0,Fe=function(t){return t!=null&&t.constructor==null},$.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=H({},this.state),typeof t=="function"&&(t=t(H({},n),this.props)),t&&H(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},$.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},$.prototype.render=U,D=[],ce=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ue=function(t,e){return t.__v.__b-e.__v.__b},j.__r=0,fe=/(PointerCapture)$|Capture$/i,K=0,X=ae(!1),G=ae(!0),Ue=0;var O,b,te,xe,ne=0,Ae=[],k=g,ke=k.__b,Se=k.__r,we=k.diffed,Ce=k.__c,Pe=k.unmount,Te=k.__;function He(t,e){k.__h&&k.__h(b,t,ne||e),ne=0;var n=b.__H||(b.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function z(t){return ne=1,je(De,t)}function je(t,e,n){var o=He(O++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):De(void 0,e),function(l){var f=o.__N?o.__N[0]:o.__[0],s=o.t(f,l);f!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=b,!b.__f)){var i=function(l,f,s){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(p){return!!p.__c});if(u.every(function(p){return!p.__N}))return!_||_.call(this,l,f,s);var r=o.__c.props!==l;return u.forEach(function(p){if(p.__N){var d=p.__[0];p.__=p.__N,p.__N=void 0,d!==p.__[0]&&(r=!0)}}),_&&_.call(this,l,f,s)||r};b.__f=!0;var _=b.shouldComponentUpdate,a=b.componentWillUpdate;b.componentWillUpdate=function(l,f,s){if(this.__e){var u=_;_=void 0,i(l,f,s),_=u}a&&a.call(this,l,f,s)},b.shouldComponentUpdate=i}return o.__N||o.__}function We(t,e){var n=He(O++,3);!k.__s&&Qe(n.__H,e)&&(n.__=t,n.u=e,b.__H.__h.push(n))}function qe(){for(var t;t=Ae.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Q),t.__H.__h.forEach(oe),t.__H.__h=[]}catch(e){t.__H.__h=[],k.__e(e,t.__v)}}k.__b=function(t){b=null,ke&&ke(t)},k.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},k.__r=function(t){Se&&Se(t),O=0;var e=(b=t.__c).__H;e&&(te===b?(e.__h=[],b.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(Q),e.__h.forEach(oe),e.__h=[],O=0)),te=b},k.diffed=function(t){we&&we(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ae.push(e)!==1&&xe===k.requestAnimationFrame||((xe=k.requestAnimationFrame)||Le)(qe)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),te=b=null},k.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Q),n.__h=n.__h.filter(function(o){return!o.__||oe(o)})}catch(o){e.some(function(i){i.__h&&(i.__h=[])}),e=[],k.__e(o,n.__v)}}),Ce&&Ce(t,e)},k.unmount=function(t){Pe&&Pe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{Q(o)}catch(i){e=i}}),n.__H=void 0,e&&k.__e(e,n.__v))};var Ee=typeof requestAnimationFrame=="function";function Le(t){var e,n=function(){clearTimeout(o),Ee&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,35);Ee&&(e=requestAnimationFrame(n))}function Q(t){var e=b,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),b=e}function oe(t){var e=b;t.__c=t.__(),b=e}function Qe(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function De(t,e){return typeof e=="function"?e(t):e}var Oe=0,Ze=Array.isArray;function c(t,e,n,o,i,_){e||(e={});var a,l,f=e;if("ref"in f)for(l in f={},e)l=="ref"?a=e[l]:f[l]=e[l];var s={type:t,props:f,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Oe,__i:-1,__u:0,__source:i,__self:_};if(typeof t=="function"&&(a=t.defaultProps))for(l in a)f[l]===void 0&&(f[l]=a[l]);return g.vnode&&g.vnode(s),s}function Ve({batchId:t,totalPages:e=0}){let[n,o]=z(null),[i,_]=z(t),[a,l]=z(!0),[f,s]=z(0),[u,r]=z(null);We(()=>{if(!i)return;let x=async()=>{try{let w=await(await fetch(`${window.notionSyncAdmin.restUrl}?batch_id=${i}`,{headers:{"X-WP-Nonce":window.notionSyncAdmin.restNonce}})).json();if(w.batch){if(o(w.batch),l(!1),w.batch.started_at&&w.batch.status==="queued"){let W=new Date(`${w.batch.started_at} UTC`).getTime(),I=Math.floor((Date.now()-W)/1e3);s(I)}else s(0);w.media_queue&&r(w.media_queue),w.batch.status==="completed"||w.batch.status}}catch{}},P=setInterval(x,2e3);return x(),()=>clearInterval(P)},[i]);let p=x=>{if(x<60)return`${x}s`;let P=Math.floor(x/60),S=x%60;return`${P}m ${S}s`},d=({status:x})=>{let P={queued:{icon:"\u25CB",color:"#8c8f94",label:"Queued"},processing:{icon:"\u27F3",color:"#2271b1",label:"Processing"},completed:{icon:"\u2713",color:"#00a32a",label:"Completed"},failed:{icon:"\u2717",color:"#d63638",label:"Failed"}},S=P[x]||P.queued;return c("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",color:S.color,fontWeight:"500"},children:[S.icon," ",S.label]})};if(!n&&a)return c("div",{className:"notion-sync-dashboard",style:{background:"#fff",border:"2px solid #2271b1",borderRadius:"4px",padding:"16px",margin:"20px 0",boxShadow:"0 2px 8px rgba(0,0,0,.1)"},children:[c("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[c("div",{style:{width:"20px",height:"20px",border:"3px solid #f0f0f1",borderTopColor:"#2271b1",borderRadius:"50%",animation:"spin 1s linear infinite"}}),c("strong",{children:"Queuing sync..."})]}),c("div",{style:{fontSize:"13px",color:"#646970",marginTop:"12px"},children:["Preparing to sync ",e," page",e!==1?"s":"","..."]}),c("style",{children:`
						@keyframes spin {
							to { transform: rotate(360deg); }
						}
					`})]});if(!n)return null;let v=n.percentage||0,C=n.status==="completed"||n.status==="failed",y=n.status==="completed",m=n.page_statuses||{},h=n.page_ids||[],T=n.results||{},E=()=>n.status==="queued"?"Waiting for queue to start processing...":n.status==="processing"?n.current_page_id?`Processing page ${n.current_page_id.substring(0,8)}...`:"Processing pages...":y?"All pages synced successfully!":n.status==="failed"?"Sync failed. Check error log for details.":"";return c("div",{className:"notion-sync-dashboard",style:{background:"#fff",border:"2px solid #2271b1",borderRadius:"4px",padding:"16px",margin:"20px 0",boxShadow:"0 2px 8px rgba(0,0,0,.1)"},children:[c("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[c("div",{children:[c("strong",{style:{fontSize:"16px"},children:C?y?"\u2713 Sync Complete":"\u2717 Sync Failed":"\u27F3 Syncing..."}),f>0&&c("div",{style:{fontSize:"12px",color:"#646970",marginTop:"4px"},children:["Waiting in queue for ",p(f)]})]}),C&&c("button",{className:"button",onClick:()=>{_(null),o(null)},children:"Close"})]}),c("div",{style:{background:"#f0f0f1",height:"24px",borderRadius:"12px",overflow:"hidden",marginBottom:"16px",position:"relative"},children:[c("div",{style:{background:"linear-gradient(90deg, #2271b1, #135e96)",height:"100%",width:`${v}%`,transition:"width 0.3s"}}),c("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"12px",fontWeight:"600",color:v>50?"#fff":"#2c3338"},children:[n.processed||0," / ",n.total||0," pages (",v,"%)"]})]}),c("div",{children:[c("h4",{style:{margin:"0 0 8px 0",fontSize:"14px",fontWeight:"600"},children:"Page Sync Progress"}),c("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"12px",marginBottom:"16px"},children:[c(re,{value:n.total||0,label:"Total"}),c(re,{value:n.successful||0,label:"Successful",color:"success"}),c(re,{value:n.failed||0,label:"Failed",color:"error"})]})]}),u&&u.total>0&&c("div",{style:{marginTop:"8px",padding:"12px",background:"#f9fafb",borderRadius:"4px",border:"1px solid #dcdcde"},children:[c("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[c("h4",{style:{margin:0,fontSize:"13px",fontWeight:"600"},children:"\u{1F4E5} Image Downloads"}),c("span",{style:{fontSize:"12px",color:"#646970",fontWeight:"500"},children:[u.total," total"]})]}),c("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(80px, 1fr))",gap:"8px",fontSize:"12px"},children:[c(V,{icon:"\u25CB",count:u.pending,label:"Queued",color:"#8c8f94"}),c(V,{icon:"\u27F3",count:u.in_progress,label:"Processing",color:"#2271b1"}),c(V,{icon:"\u2713",count:u.completed,label:"Done",color:"#00a32a"}),u.failed>0&&c(V,{icon:"\u2717",count:u.failed,label:"Failed",color:"#d63638"})]})]}),h.length>0&&c("div",{style:{marginTop:"16px"},children:[c("h4",{style:{margin:"0 0 12px 0",fontSize:"14px",fontWeight:"600"},children:"Page Status"}),c("div",{style:{maxHeight:"300px",overflow:"auto",border:"1px solid #dcdcde",borderRadius:"4px"},children:c("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[c("thead",{children:c("tr",{children:[c("th",{style:{textAlign:"left",padding:"8px",background:"#f9fafb",borderBottom:"1px solid #dcdcde",fontWeight:"600"},children:"Page ID"}),c("th",{style:{textAlign:"left",padding:"8px",background:"#f9fafb",borderBottom:"1px solid #dcdcde",fontWeight:"600"},children:"Status"}),c("th",{style:{textAlign:"right",padding:"8px",background:"#f9fafb",borderBottom:"1px solid #dcdcde",fontWeight:"600"},children:"Details"})]})}),c("tbody",{children:h.map(x=>{let P=m[x]||"queued",S=T[x],w=n.current_page_id===x;return c("tr",{children:[c("td",{style:{padding:"8px",borderBottom:"1px solid #f0f0f1",fontFamily:"monospace",fontSize:"12px"},children:[x.substring(0,8),"...",w&&c("span",{style:{marginLeft:"8px",padding:"2px 6px",background:"#2271b1",color:"#fff",borderRadius:"3px",fontSize:"10px",fontWeight:"600"},children:"CURRENT"})]}),c("td",{style:{padding:"8px",borderBottom:"1px solid #f0f0f1"},children:c(d,{status:P})}),c("td",{style:{padding:"8px",borderBottom:"1px solid #f0f0f1",textAlign:"right",fontSize:"12px",color:"#646970"},children:S?S.success?S.duration?`${S.duration.toFixed(2)}s`:"Success":S.error||"Failed":"\u2014"})]},x)})})]})})]}),c("div",{style:{fontSize:"13px",color:"#646970",marginTop:"12px",fontStyle:"italic"},children:E()})]})}function re({value:t,label:e,color:n="neutral"}){let o={neutral:{bg:"#f9fafb",text:"#2c3338"},success:{bg:"#e7f5ec",text:"#00a32a"},error:{bg:"#fcf0f1",text:"#d63638"}},{bg:i,text:_}=o[n];return c("div",{style:{padding:"8px",background:i,borderRadius:"4px",textAlign:"center"},children:[c("div",{style:{fontSize:"24px",fontWeight:"600",color:_},children:t}),c("div",{style:{fontSize:"12px",color:n==="neutral"?"#646970":_},children:e})]})}function V({icon:t,count:e,label:n,color:o}){return c("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:o},children:[c("span",{children:t}),c("span",{children:e}),c("span",{style:{fontSize:"11px"},children:n})]})}var Ne=document.getElementById("notion-sync-dashboard");if(Ne){window.startSyncDashboard=(e,n=0)=>{be(c(Ve,{batchId:e,totalPages:n}),Ne)};let t=async()=>{try{let n=await(await fetch(`${window.notionSyncAdmin.restUrl}`,{headers:{"X-WP-Nonce":window.notionSyncAdmin.restNonce}})).json();n.batch&&(n.batch.status==="processing"||n.batch.status==="queued")&&window.startSyncDashboard(n.batch.batch_id,n.batch.total)}catch{}};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()}})();
